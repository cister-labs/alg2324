\documentclass[aspectratio=169]{beamer}
\usepackage{etex} % fixes new-dimension error
\usepackage{lmodern}
\usepackage[T1]{fontenc}

\usepackage{graphicx,amsmath}
\usepackage{stmaryrd} % cf. interleave
\usepackage{booktabs}
\usepackage{amscd}
\usepackage{multicol}
\usepackage[absolute,overlay]{textpos}
\usepackage{alltt}
\usepackage{proof}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage[new]{old-arrows}
\usepackage[all]{xy}
\usepackage{pgfplots}
\usepackage{textcomp}

\input{macros/macros}
%-------------- template --------------------------------------------------
\input{macros/beamerconf}
%----------------------------------------------------------------------------

\begin{document}

\setLecture{4}{Average Time and Probabilistic Programs [WiP]}
\frame[plain]{\titlepage}


\begin{frame}[t]\frametitle{Overview}


  \begin{itemize}
    {\color{black!25}
    \item Measuring {precisely} performance of algorithms
    \item Measuring {asymptotically} performance of algorithms
    \item Analysing {recursive} functions}
    \item Measuring \structure{precisely} the \alert{average time} of algorithms
    {\color{black!25}
    \item Possibly: sorting algorithms \texttt{bubbleSort}, \texttt{swapSort}, \texttt{insertionSort}, \texttt{mergeSort}, \texttt{quickSort}}
    \item Next: analysis of sequences of operations (\alert{amortised analysis})
  \end{itemize}
\end{frame}


\begin{frame}[fragile]\frametitle{Recall goal}

\begin{lstlisting}[language=C++,linewidth=50mm]
int count = 0;
for (int i=0; i<n; i++)
  if (v[i] == 0) count++
\end{lstlisting}    

\frsplitt{
  \begin{block}{RAM}
  \begin{itemize}
    \item worst-case: $T(n) = 5+5n$
    \item best-case: $T(n) = 5+4n$
  \end{itemize}  
  \end{block}
}{
  \begin{alertblock}{\#array-accesses + \#count-increments}
  \begin{itemize}
    \item worst-case: $T(n) = 2n$
    \item best-case: $T(n) = n$
    \item \alert{
      average-case: $\overline{T}(n) = n + \sum_{0\leq r < n}P(v[r]=0)$}
  \end{itemize}  
  \end{alertblock}
}
\end{frame}


\section{Preliminaries: series}


\begin{frame}\frametitle{Recall arithmetic series}
    
\begin{align*}
  \alert{\sum_{i=1}^n i} &~=~ 1 + 2 + \ldots + n ~=~ \structure{\frac{n(n+1)}{2}}
  \\
  \alert{\sum_{i=a}^b i} &~=~ a + (a+1) + \ldots + b ~=~
    \structure{\frac{(a-b+1)(a+b)}{2}}
\end{align*}

~\\[8mm]

\begin{block}{Intuition}
\centering
\big[number of elements\big] $\times$ \big[middle value\big]  
\end{block}
\end{frame}

\begin{frame}\frametitle{Recall geometric series I} 
\begin{align*}
  \alert{\sum_{i=0}^n x^i} &~=~ 1 + x + x^2 + \ldots + x^n ~=~
      \structure{\frac{x^{n+1}-1}{x-1}}
\end{align*}

~\\[2mm]

\begin{block}{Proof}
\centering
Let $\structure{S}=\alert{\sum_{i=0}^n x^i}$. Then:
$$\structure{S}\times x ~=~ x + x^2 + \ldots + x^{n+1}$$
Hence we know $\Big[(\structure{S}\times x)-\structure{S} ~=~ x^{n+1}-1\Big]$.
\\
Simplifying we get $\Big[\structure{S} ~=~ \frac{x^{n+1}-1}{x-1}\Big]$.
\end{block}
\end{frame}

\begin{frame}\frametitle{Recall geometric series II}
\begin{align*}
  \alert{\sum_{i=1}^n i \times x^{i-1}} &~=~ x + (2\times x^2) + \ldots + (n\times x^n) ~=~
      \structure{\frac{n\times x^{n+1}-(n+1)\times x^n +1}{(x-1)^2}}
\end{align*}

~\\[2mm]

\begin{block}{Proof}
\centering
Recall $\Big[S ~=~ \sum_{i=1}^n x^i ~=~ \frac{x^{n+1}-1}{x-1}\Big]$.
Derive both:
\begin{align*}
 S'
   ~~\alert{=}~~ (1 + x + x^2 + \ldots + x^n)'
  &~~\alert{=}~~ 0 + 1 + 2x + \ldots + n\times x^{n-1}
   ~~\alert{=}~~\alert{\sum_{i=1}^n i \times x^{i-1}}
\\
\left(\frac{x^{n+1}-1}{x-1}\right)'
  &~~\alert{=}~~
   \structure{\frac{n\times x^{n+1}-(n+1)\times x^n +1}{(x-1)^2}}
\end{align*}
\end{block}
\end{frame}


\section{Calculating average cases}

\begin{frame}[fragile]\frametitle{Binary search}
    
...

\end{frame}


\begin{frame}[fragile]\frametitle{Two's complement}
    
...

\end{frame}

\begin{frame}\frametitle{Exercises}
    
...

\end{frame}

\begin{frame}[fragile]\frametitle{Quicksort analysis}
    
...

(See animation at \url{https://visualgo.net/en/sorting}.)

\end{frame}


\section{Randomised Algorithms}

\byothers{Pedro Ribeiro, slides 4}{9-13}{ribeiro/4_probabilistic_22102018.pdf}

\begin{frame}\frametitle{Las Vegas vs. Monte Carlo}

\begin{itemize}
  \item QuickSort always returns a \alert{correct result} (a sorted array) but its \structure{runtime is a random variable} (with $\mathcal{O}(n\text{ log }n)$ in expectation)
  \item Some randomized algorithms are \alert{not guaranteed to be correct}, but their \structure{runtime is fixed}.
\end{itemize}

\begin{block}{Las Vegas Algorithms}
Randomized algorithms that always output the correct answer, and whose runtimes are random variables.
\end{block}

\begin{alertblock}{Monte Carlo Algorithms}
Randomized algorithms that always terminate in a given time bound, but are correct with at least some (high) probability.
\end{alertblock}

\end{frame}


% \section{Motivation}
% \byothers{Charles E. Leiserson}{3-19}{Cormen_Algorithms_Slides.pdf}
% \byothers{Pedro Ribeiro, slides 2}{1-2}{ribeiro/2_asymptoticanalysis_02102018.pdf}

\end{document}
